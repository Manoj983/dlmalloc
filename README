This isn't my code, but I like to use it. See http://gee.cs.oswego.edu/dl/html/malloc.html
Also, have a look : http://phrack.org/issues/57/9.html#article
